<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classified Mission - Authentication Required</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <!-- Initial Secret Message Screen -->
        <div id="intro-screen" class="screen active">
            <div class="classified-header">
                <div class="classified-stamp">CLASSIFIED</div>
                <div class="encryption-badge">TOP SECRET // ENCRYPTED</div>
            </div>
            
            <div class="message-display">
                <div class="typing-text" id="intro-message"></div>
            </div>
            
            <div class="auth-question">
                <p>ARE YOU DR. OVERTHINKER SAVIOUR?</p>
                <div class="button-group">
                    <button id="yes-btn" class="mission-btn primary">YES</button>
                    <button id="chances-btn" class="mission-btn">I'LL TAKE MY CHANCES</button>
                </div>
            </div>
        </div>

        <!-- Authentication Overview Screen -->
        <div id="auth-overview-screen" class="screen">
            <div class="mission-briefing">
                <h2>MISSION BRIEFING</h2>
                <div class="briefing-content">
                    <p><span class="highlight">TARGET:</span> Dr. Overthinker Saviour</p>
                    <p><span class="highlight">STATUS:</span> Unverified Identity</p>
                    <p><span class="highlight">MISSION:</span> Complete Authentication Protocol</p>
                </div>
                
                <div class="warning-box">
                    <div class="warning-icon">⚠</div>
                    <p>You must prove your identity before proceeding. This is a two-stage authentication process:</p>
                </div>
                
                <div class="auth-stages">
                    <div class="auth-stage">
                        <div class="stage-number">01</div>
                        <div class="stage-content">
                            <h3>MEMORY AUTHENTICATION</h3>
                            <p>Lie Detector Test</p>
                        </div>
                    </div>
                    
                    <div class="auth-stage">
                        <div class="stage-number">02</div>
                        <div class="stage-content">
                            <h3>SKILLS AUTHENTICATION</h3>
                            <p>Emergency Response Test</p>
                        </div>
                    </div>
                </div>
                
                <button id="start-auth-btn" class="mission-btn pulse">INITIATE AUTHENTICATION</button>
            </div>
        </div>

        <!-- Lie Detector Test Screen -->
        <div id="lie-detector-screen" class="screen">
            <div class="lie-detector-interface">
                <div class="detector-header">
                    <h2>LIE DETECTOR TEST</h2>
                    <div class="status-indicator active">MONITORING...</div>
                </div>
                
                <div class="detector-visual">
                    <div class="pulse-line"></div>
                    <div class="pulse-line"></div>
                    <div class="pulse-line"></div>
                </div>
                
                <div class="question-container">
                    <div class="question-label">SECURITY QUESTION:</div>
                    <p class="question-text">Our Bloody Surgeon was standing still when a bike came and crashed with her. Near which military campus gate did it happen?</p>
                </div>
                
                <div class="options-grid">
                    <button class="option-btn" data-answer="A">A. ARIES</button>
                    <button class="option-btn" data-answer="B">B. LEO</button>
                    <button class="option-btn" data-answer="C">C. TAURUS</button>
                    <button class="option-btn" data-answer="D">D. BULLUS</button>
                </div>
                
                <div class="feedback-message" id="detector-feedback"></div>
            </div>
        </div>

        <!-- Skills Intro Screen -->
        <div id="skills-intro-screen" class="screen">
            <div class="mission-briefing">
                <div class="success-check">
                    <div class="checkmark">✓</div>
                    <p>MEMORY AUTHENTICATION: <span class="success">VERIFIED</span></p>
                </div>
                
                <h2>SKILLS AUTHENTICATION</h2>
                <p class="instruction-text">Our doc is super skilled. Now let's see how much skills you possess.</p>
                
                <div class="mission-context">
                    <div class="context-icon">⚡</div>
                    <p><strong>SITUATION:</strong> You are all alone in an ambulance with a dying patient. You must navigate through obstacles and reach the hospital before the patient's health reaches zero.</p>
                    <p><strong>OBJECTIVE:</strong> Reach the hospital. Save the patient. Prove you are the Saviour.</p>
                </div>
                
                <div class="controls-info">
                    <p><span class="key-badge">←</span> <span class="key-badge">→</span> Arrow Keys or Swipe to Drive</p>
                    <p>Collect <span class="item-badge">SPEED</span> and <span class="item-badge">HEALTH</span> packs</p>
                </div>
                
                <button id="start-game-btn" class="mission-btn pulse">BEGIN MISSION</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div class="mission-status">MISSION IN PROGRESS</div>
                <div class="distance-display">HOSPITAL: <span id="distance-value">0</span>m</div>
            </div>
            
            <div class="game-stats">
                <div class="stat-box health-box">
                    <span class="stat-label">PATIENT VITALS</span>
                    <div class="progress-bar health-bar">
                        <div class="progress-fill health-fill" id="health-fill"></div>
                    </div>
                    <span class="stat-value" id="health-value">100%</span>
                </div>
                <div class="stat-box score-box">
                    <span class="stat-label">SCORE</span>
                    <span class="stat-value" id="score-value">0</span>
                </div>
            </div>
            
            <div class="canvas-container">
                <canvas id="game-canvas" width="800" height="600"></canvas>
            </div>
            
            <div class="power-up-indicators">
                <div class="power-up-indicator" id="speed-indicator" style="display: none;">
                    ⚡ SPEED BOOST ACTIVE
                </div>
            </div>
        </div>

        <!-- Success Authentication Screen -->
        <div id="success-screen" class="screen">
            <div class="success-container">
                <div class="classified-header">
                    <div class="verified-stamp">VERIFIED</div>
                    <div class="success-badge">AUTHENTICATION COMPLETE</div>
                </div>
                
                <div class="success-content">
                    <div class="profile-image">
                        <img src="assets/4.JPG" alt="The Saviour">
                    </div>
                    
                    <h2>IDENTITY CONFIRMED</h2>
                    <p class="success-message">We are now successfully convinced that you are our Saviour Overthinker Doc.</p>
                    
                    <div class="credentials">
                        <div class="credential-item">
                            <span class="credential-label">MEMORY TEST:</span>
                            <span class="credential-value">PASSED</span>
                        </div>
                        <div class="credential-item">
                            <span class="credential-label">SKILLS TEST:</span>
                            <span class="credential-value">PASSED</span>
                        </div>
                        <div class="credential-item">
                            <span class="credential-label">FINAL SCORE:</span>
                            <span class="credential-value" id="final-score">0</span>
                        </div>
                    </div>
                    
                    <div class="mystery-reveal">
                        <p>The mystery message has been decrypted. You are authorized to view.</p>
                        <button id="reveal-btn" class="mission-btn pulse primary">SHOW ME THE MYSTERY MESSAGE</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Final Mystery Message Screen -->
        <div id="mystery-screen" class="screen">
            <div class="mystery-container">
                <div class="classified-header">
                    <div class="declassified-stamp">DECLASSIFIED</div>
                </div>
                
                <div class="mystery-content">
                    <h2>THE MESSAGE</h2>
                    
                    <div class="self-destruct-timer" id="self-destruct-timer">
                        <span class="timer-label">SELF-DESTRUCT IN</span>
                        <span class="timer-value" id="countdown">10</span>
                        <span class="timer-unit">SECONDS</span>
                    </div>
                    
                    <div class="message-card">
                        <img src="assets/5.JPG" alt="Valentine" class="valentine-photo">
                        <div class="message-body">
                            <p class="salutation">My Dearest Dr. Overthinker,</p>
                            <p class="love-text">
                                "Bismil ka sandesh hai ki Lucknow se Lahore Jane Wali train, jisme angrezo ka paisa hai, use hum kakori station mai lootenge."
                            </p>
                            <p class="love-text">
                                Also - Kudos on completing the missions. 
                            </p>
                            <p class="love-text">
                                Here's to hoping that Valentine's 2026 is a blast and brainstorming continues.
                            </p>
                            <p class="closing">Fellow Brainstormer</p>
                        </div>
                    </div>
                    
                    <button id="restart-btn" class="mission-btn">RESTART MISSION</button>
                </div>
                    </div>
                    
                    <button id="restart-btn" class="mission-btn">RESTART MISSION</button>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="screen">
            <div class="failure-container">
                <div class="classified-header">
                    <div class="failed-stamp">FAILED</div>
                </div>
                
                <h2>MISSION FAILED</h2>
                <p>The patient did not make it. Your identity remains unverified.</p>
                
                <div class="stats-summary">
                    <p>Score: <span id="gameover-score">0</span></p>
                    <p>Distance: <span id="gameover-distance">0</span>m</p>
                </div>
                
                <button id="retry-btn" class="mission-btn primary">RETRY AUTHENTICATION</button>
            </div>
        </div>
    </div>

    <!-- Particle Canvas for effects -->
    <canvas id="particle-canvas" class="particle-canvas"></canvas>

    <script src="game.js"></script>
</body>
</html>
